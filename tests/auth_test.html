<!DOCTYPE html>
<html>
    <head>
        <title>Firebase + Google Auth Test</title>
    </head>
    <body>
        <button id="login">Click me to login!</button>
        <script src="../Resources/firebase.js"></script>
        <script>
            var firebaseAppId = ""; // For security reasons, DO NOT include the Firebase App ID anywhere in files shown in the repository!

            //Noble Mushtakk: Is there any way we can make it stop sending GET requests if there is an error? I said the same thing in sync_test.js, too.
            document.getElementById("login").onclick = function() {
                //Check if the authentication of allowing us to make requests to the Firebase database went successfully or not.
                var ref = new Firebase("https://" + firebaseAppId + ".firebaseio.com");
                ref.authWithOAuthPopup("google", function(error, authData) {
                    if (error) {
                        console.log("Login Failed!", error);
                    } else {
                        console.log("Authenticated successfully with payload:", authData);
                    }
                }, { remember: "sessionOnly" });
            };
        </script>
    </body>
</html>